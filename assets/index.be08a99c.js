const g=function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function f(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=f(n);fetch(n.href,l)}};g();window.onload=function(){document.querySelector(".add-new").addEventListener("click",y),document.querySelector(".calculate").addEventListener("click",l);function y(){const e=document.querySelector(".form");let t=document.createElement("div");t.classList.add("form-group"),t.appendChild(d("subject","Enter subject for identification")),t.appendChild(d("credit","Enter credit hour*")),t.appendChild(f()),t.appendChild(a()),e.appendChild(t),document.querySelectorAll(".close").forEach(o=>{o.addEventListener("click",n)})}function d(e,t){let r=document.createElement("input");return Object.assign(r,{type:"text",name:e,id:e,placeholder:t}),r}function f(){let e=document.createElement("select");e.setAttribute("name","grade"),e.setAttribute("id","grade");let t=document.createElement("option");return t.setAttribute("selected","selected"),t.setAttribute("disabled","disabled"),t.text="Select Your Grade*",e.add(t),["A+","A","B+","B","C","D","F"].map(o=>{let c=document.createElement("option");c.value=o,c.text=o,e.add(c)}),e}function a(){let e=document.createElement("button");return e.setAttribute("type","button"),e.classList.add("close"),e.innerHTML="&times;",e}function n(e){e.target.parentNode.remove()}function l(){let e=[],t=!1;document.querySelectorAll(".form-group").forEach(i=>{let u=i.querySelector("input#subject"),p=i.querySelector("input#credit"),b=i.querySelector("select#grade");e.push({subject:u.value,credit:parseInt(p.value),letterGrade:b.value.toUpperCase(),grade:E(b.value.toUpperCase())})});let o=e.reduce((i,u)=>i+u.credit,0);Number.isNaN(o)&&(t=!0);let c=0;e.forEach(i=>{c+=i.credit*i.grade}),Number.isNaN(c)&&(t=!0);let m=c/o;Number.isNaN(m)&&(t=!0),s(e),h(o),document.querySelector(".sgpa").textContent=m.toFixed(2),C(t)}function s(e){const t=document.querySelector("tbody");t.childNodes.length>0&&t.querySelectorAll("*").forEach(r=>r.remove()),e.forEach((r,o)=>{let c=t.insertRow(),m=c.insertCell(0),i=c.insertCell(1),u=c.insertCell(2),p=c.insertCell(3);m.textContent=++o,i.textContent=r.subject===""?"-":r.subject,u.textContent=r.credit,p.textContent=r.letterGrade})}function h(e){let r=document.querySelector("tfoot").querySelectorAll("td");r[1].innerText=e}function E(e){return{"A+":4,A:3.75,"B+":3.5,B:3,C:2.5,D:1.75,F:0}[e]}function C(e){let t=document.querySelector(".response");t.classList.contains("hidden")&&t.classList.toggle("hidden");let r=document.querySelector(".when-success"),o=document.querySelector(".when-error");e?(r.classList.contains("hidden")||r.classList.add("hidden"),o.classList.contains("hidden")&&o.classList.remove("hidden")):(o.classList.contains("hidden")||o.classList.add("hidden"),r.classList.remove("hidden"))}};
