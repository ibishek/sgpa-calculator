(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function f(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=f(o);fetch(o.href,l)}})();window.onload=function(){document.querySelector(".add-new").addEventListener("click",y),document.querySelector(".calculate").addEventListener("click",l);function y(){const e=document.querySelector(".form");let t=document.createElement("div");t.classList.add("form-group"),t.appendChild(i("subject","Subject")),t.appendChild(i("credit","Credit hours*")),t.appendChild(f()),t.appendChild(a()),e.appendChild(t),document.querySelectorAll(".close").forEach(n=>{n.addEventListener("click",o)})}function i(e,t){let r=document.createElement("input");return Object.assign(r,{type:"text",name:e,id:e,placeholder:t}),r}function f(){let e=document.createElement("select");e.setAttribute("name","grade"),e.setAttribute("id","grade");let t=document.createElement("option");return t.setAttribute("selected","selected"),t.setAttribute("disabled","disabled"),t.text="Select Your Grade*",e.add(t),["A+","A","B+","B","C","D","F"].map(n=>{let c=document.createElement("option");c.value=n,c.text=n,e.add(c)}),e}function a(){let e=document.createElement("button");return e.setAttribute("type","button"),e.classList.add("close"),e.innerHTML="&times;",e}function o(e){e.target.parentNode.remove()}function l(){let e=[],t=!1;document.querySelectorAll(".form-group").forEach(s=>{let u=s.querySelector("input#subject"),p=s.querySelector("input#credit"),b=s.querySelector("select#grade");e.push({subject:u.value,credit:parseInt(p.value),letterGrade:b.value.toUpperCase(),grade:C(b.value.toUpperCase())})});let n=e.reduce((s,u)=>s+u.credit,0);Number.isNaN(n)&&(t=!0);let c=0;e.forEach(s=>{c+=s.credit*s.grade}),Number.isNaN(c)&&(t=!0);let m=c/n;Number.isNaN(m)&&(t=!0),d(e),h(n),document.querySelector(".sgpa").textContent=m.toFixed(2),E(t)}function d(e){const t=document.querySelector("tbody");t.childNodes.length>0&&t.querySelectorAll("*").forEach(r=>r.remove()),e.forEach((r,n)=>{let c=t.insertRow(),m=c.insertCell(0),s=c.insertCell(1),u=c.insertCell(2),p=c.insertCell(3);m.textContent=++n,s.textContent=r.subject===""?"-":r.subject,u.textContent=r.credit,p.textContent=r.letterGrade})}function h(e){let r=document.querySelector("tfoot").querySelectorAll("td");r[1].innerText=e}function C(e){return{"A+":4,A:3.75,"B+":3.5,B:3,C:2.5,D:1.75,F:0}[e]}function E(e){let t=document.querySelector(".response");t.classList.contains("hidden")&&t.classList.toggle("hidden");let r=document.querySelector(".when-success"),n=document.querySelector(".when-error");e?(r.classList.contains("hidden")||r.classList.add("hidden"),n.classList.contains("hidden")&&n.classList.remove("hidden")):(n.classList.contains("hidden")||n.classList.add("hidden"),r.classList.remove("hidden"))}};
